# 机器学习系统的设计

## 构建一个学习算法的推荐方法

1、从一个简单的能快速实现的算法开始，实现该算法并用交叉验证集数据测试这个算法

2、绘制学习曲线，决定增加更多的数据，或者添加更多的特征，还是其他选择

3、进行误差分析：人工检查交叉验证集中我们算法中产生预测误差的实例，看看这些实例是否有某种系统化的趋势



## 类偏斜的误差度量

​	**类偏斜（skewed classes）**情况表现为我们的训练集中有非常多的同一种类的实例，只有很少或没有其他类的实例。  例如我们希望用算法来预测癌症是否是恶性的，在我们的训练集中，只有 0.5%的实例是恶性肿瘤。假设我们编写一个非学习而来的算法，在所有情况下都预测肿瘤是良性的，那 么误差只有 0.5%。然而我们通过训练而得到的神经网络算法却有 1%的误差。这时，误差的大小是不能视为评判算法效果的依据的。 

​	 查准率（Precision）和查全率（Recall） 我们将算法预测的结果分成四种情况： 

​		1、正确肯定（True Positive,TP）：预测为真，实际为真  

​		2、正确否定（True Negative,TN）：预测为假，实际为假  

​		3、错误肯定（False Positive,FP）：预测为真，实际为假  

​		4、错误否定（False Negative,FN）：预测为假，实际为真   



​	**查准率=TP/（TP+FP）**例，在所有我们预测有恶性肿瘤的病人中，实际上有恶性肿瘤的病人的百分比，越高越好。  

​	**查全率=TP/（TP+FN）**例，在所有实际上有恶性肿瘤的病人中，成功预测有恶性肿瘤的病人的百分比，越高越好。  	



​	我们的算法输出的结果在0-1之间，我们使用**阀值**0.5来预测真和假

![1527509102906](C:\Users\langb\AppData\Local\Temp\1527509102906.png)



​	我们可以将不同的阀值情况下，查全率与查准率的关系绘制成图表，曲线的形状根据数据的不同而不同：

![1527509172613](C:\Users\langb\AppData\Local\Temp\1527509172613.png)

​	我们希望有一个帮助我们选择这个阀值的方法，一种方式是计算F~1~值（F~1~ Score），其计算公式如下：



​	
$$
𝐹1𝑆𝑐𝑜𝑟𝑒:2 \frac {PR}{P+R}
$$
​	我们选择**使得F~1~最高的阀值**





	## 高性能学习算法

​	为了有一个高性能的学习算法，我们希望它不要有高的方差和偏差：

​	***1、大量的数据作为训练集***

​	***2、带有多参数的学习算法***





